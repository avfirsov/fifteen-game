<!DOCTYPE html>
<html>
  <head>
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/8.0.1/mocha.min.css" />
  </head>
  <body>
    <div id="mocha"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/8.0.1/mocha.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/4.2.0/chai.min.js"></script>
    <script>
      mocha.setup('bdd');
    </script>
    <script src="helpers.js"></script>
    <script>
      var assert = chai.assert;

      describe('getInversionsCount', function () {
        it('Should be 3 for [1,2,3,0]', function () {
          assert.equal(getInversionsCount([1, 2, 3, 0]), 3);
        });
        it('Should be 0 for [1,2,3,4,5,6,7,8,9,10]', function () {
          assert.equal(getInversionsCount([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]), 0);
        });
        it('Should be 9 for [10,1,2,3,4,5,6,7,8,9]', function () {
          assert.equal(getInversionsCount([10, 1, 2, 3, 4, 5, 6, 7, 8, 9]), 9);
        });
      });
      describe('generateRandomSeq', function () {
        it('Should return array of length 16', function () {
          assert.equal(generateRandomSeq().length, 16);
        });
        it('Should include all ints from 1 to 16', function () {
          assert.deepEqual(
            generateRandomSeq().sort((a, b) => a - b),
            [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]
          );
        });
      });
      describe('isSolved', function () {
        it('Should be true for [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]', function () {
          assert.isTrue(isSolved([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]));
        });
        it('Should be false for any shuffle of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]', function () {
          assert.isFalse(
            isSolved([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16].sort(() => Math.sign(Math.random() - 0.5)))
          );
        });
        it('Should be false for any shuffle of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]', function () {
          assert.isFalse(
            isSolved([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16].sort(() => Math.sign(Math.random() - 0.5)))
          );
        });
        it('Should be false for any shuffle of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]', function () {
          assert.isFalse(
            isSolved([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16].sort(() => Math.sign(Math.random() - 0.5)))
          );
        });
        it('Should be false for any shuffle of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]', function () {
          assert.isFalse(
            isSolved([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16].sort(() => Math.sign(Math.random() - 0.5)))
          );
        });
      });
      describe('hasSolution', function () {
        it('Should be true for [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]', function () {
          assert.isTrue(hasSolution([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]));
        });
        it('Should be false for [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 15]', function () {
          assert.isFalse(hasSolution([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 15]));
        });
        it('Should be true for [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 16, 14, 15]', function () {
          assert.isTrue(hasSolution([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 16, 14, 15]));
        });
      });

      mocha.run();
    </script>
  </body>
</html>
